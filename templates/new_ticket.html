{% extends "base.html" %}

{% block content %}

{% load crispy_forms_tags %}

<div class="py-5 text-center">
    <h2 class="lead-heading">Book a Ticket</h2>
    <p class="lead">
        So you've filled out your profile and are ready to purchase a ticket! Below you can buy a max. 
        of 1 ticket for yourself and up to 5 tickets in total. Individually, you can fill in the details 
        below. 
    </p>
    <p class="lead">
        If you are buying yourself a ticket, you will still have to fill in the details, as this enables you 
        to alter your details if you opt to share your ticket details in the "Show Tickets" page. We look 
        forward to seeing you in 2026!
    </p>
</div>
<div class="row justify-content-center">
    <div>
        <!-- Display both forms together -->
        <form method="POST" class="f1-form">
            {% csrf_token %}

            <!-- Profile form -->
            {{ ticket_form.for_self | as_crispy_field }}
            {{ ticket_form.first_name | as_crispy_field }}
            {{ ticket_form.last_name | as_crispy_field }}
            {{ ticket_form.nickname | as_crispy_field }}
            {{ ticket_form.fave_team | as_crispy_field }}
            {{ ticket_form.nationality | as_crispy_field }}
            <div class="row">
                <div class="col-12">
                    <p class="py-5">
                    See the diagram for the track layout on the left and each stand layout. Select the seat 
                    you want to sit in from the drop down menus on the right. If you select the same seat as 
                    someone else you will recieve a message to let you know. Please check the "Show Tickets" 
                    page.
                    </p>
                </div>
            </div>
            <div class="row">
                <div id="track_image" class="col-12 col-md-6 col-lg-4">
                    <svg id="svg-track" version="1.0" viewBox="0 0 788.000000 620.000000">
                        <g transform="translate(0.000000,620.000000) scale(0.100000,-0.100000)" fill="#000000"
                            stroke="none">
                            <path d="M4920 5900 c-125 -11 -163 -19 -261 -61 -43 -18 -103 -35 -142 -39
                            -51 -5 -89 -18 -145 -47 -64 -33 -86 -51 -128 -107 -39 -51 -53 -79 -58 -115
                            -7 -51 6 -171 23 -214 17 -44 59 -94 99 -118 l37 -22 -40 -14 c-22 -8 -67 -21
                            -99 -29 -32 -8 -91 -35 -131 -59 -66 -42 -72 -49 -88 -98 -35 -112 -8 -249 65
                            -324 17 -18 30 -34 27 -36 -11 -9 -250 -71 -299 -78 -30 -4 -107 -8 -170 -9
                            -63 -1 -142 -6 -175 -11 -33 -5 -137 -14 -231 -19 -150 -8 -184 -13 -285 -44
                            -169 -51 -265 -76 -296 -76 -14 0 -83 -16 -152 -36 -114 -33 -142 -44 -221
                            -89 -37 -21 -151 -71 -180 -79 -25 -7 -113 -45 -229 -99 -35 -16 -95 -38 -132
                            -47 -62 -16 -165 -66 -214 -104 -84 -65 -209 -138 -311 -182 -105 -46 -217
                            -117 -261 -167 -37 -43 -122 -104 -179 -131 -43 -20 -119 -108 -136 -159 -6
                            -17 -14 -36 -18 -42 -4 -5 -14 -29 -23 -52 l-17 -43 24 -6 25 -6 -19 -51 c-31
                            -88 -58 -180 -64 -222 -3 -22 -10 -62 -15 -90 -12 -64 -13 -432 -2 -550 9 -89
                            12 -96 93 -275 11 -24 33 -61 48 -81 28 -34 29 -40 31 -155 1 -65 -3 -150 -10
                            -189 -6 -38 -11 -129 -11 -201 0 -118 -2 -133 -20 -149 -17 -16 -20 -31 -20
                            -114 l0 -96 40 -23 c22 -12 40 -27 40 -32 0 -6 9 -10 19 -10 11 0 23 -5 26
                            -10 9 -15 231 -11 300 5 82 20 341 20 418 0 31 -8 88 -21 126 -29 38 -8 114
                            -32 168 -52 98 -38 98 -38 272 -41 l174 -3 58 -38 c182 -118 191 -122 319
                            -159 59 -16 108 -18 515 -18 407 0 454 2 489 18 30 13 64 17 160 16 66 -1 150
                            -4 185 -8 l64 -6 17 -45 c13 -34 29 -52 66 -76 27 -18 60 -43 74 -57 61 -61
                            65 -62 430 -67 l335 -5 49 -38 c56 -43 106 -49 178 -20 126 50 178 125 178
                            255 0 48 6 83 16 103 9 17 24 44 32 60 9 17 26 44 39 61 13 17 23 34 23 39 0
                            8 40 95 96 209 25 50 34 82 34 119 0 29 11 84 26 126 24 70 26 86 22 198 l-5
                            122 -57 66 c-32 36 -64 65 -71 65 -8 0 -25 10 -39 22 l-25 23 29 71 c16 40 46
                            101 68 135 49 82 132 256 132 280 0 10 4 20 9 23 5 3 20 30 34 60 15 30 42 76
                            61 103 21 29 38 70 46 106 l11 57 102 0 c154 1 284 16 361 41 61 20 74 29 112
                            78 24 31 44 61 44 66 0 13 57 51 90 60 14 4 36 16 50 25 14 10 59 28 100 40
                            41 13 80 26 85 30 6 4 42 10 80 13 116 9 157 17 235 49 86 35 106 52 148 125
                            l30 51 -25 7 -25 6 7 147 c4 81 11 157 16 170 5 13 9 81 9 150 0 70 4 163 9
                            207 5 44 15 143 21 220 6 77 18 190 26 251 8 61 14 125 14 143 0 17 11 88 25
                            157 24 117 25 140 22 372 -4 305 -21 479 -52 542 -30 58 -131 155 -192 182
                            -43 19 -70 22 -238 25 -104 2 -214 8 -243 13 -28 5 -58 7 -65 4 -7 -2 -31 3
                            -53 12 -30 13 -79 18 -213 21 l-175 4 -33 29 c-18 17 -47 36 -63 45 -42 22
                            -164 36 -335 40 -82 2 -260 5 -395 8 -135 3 -292 1 -350 -3z m735 -335 c66 -7
                            152 -23 190 -34 39 -12 120 -30 181 -41 62 -10 132 -24 155 -29 24 -6 96 -15
                            159 -21 63 -6 143 -17 178 -25 39 -9 116 -15 203 -15 77 0 168 -5 204 -12 55
                            -11 65 -16 70 -37 3 -13 1 -27 -5 -31 -7 -4 -4 -50 12 -151 29 -179 30 -433 4
                            -514 -9 -27 -25 -128 -37 -223 -11 -95 -28 -217 -39 -270 -30 -149 -40 -293
                            -41 -572 -1 -304 -3 -317 -74 -343 -72 -27 -191 -57 -224 -57 -16 0 -44 -6
                            -63 -14 -19 -8 -65 -22 -103 -31 -85 -19 -143 -58 -248 -164 -85 -87 -98 -93
                            -249 -105 -63 -5 -68 -4 -68 14 0 11 -1 20 -2 20 -2 0 -41 -7 -87 -15 -46 -8
                            -88 -12 -93 -9 -5 3 -18 -6 -29 -20 -11 -14 -30 -26 -42 -26 -41 0 -49 -10
                            -111 -135 -13 -27 -27 -68 -31 -90 -7 -46 -133 -302 -206 -419 -27 -44 -54
                            -98 -59 -120 -6 -23 -18 -54 -27 -71 -39 -72 -55 -106 -98 -208 -36 -86 -45
                            -121 -45 -167 0 -36 5 -62 14 -69 7 -6 21 -32 31 -56 14 -38 26 -50 66 -70 26
                            -14 63 -25 81 -25 l33 0 -3 -82 c-4 -76 -8 -90 -50 -168 -140 -262 -174 -338
                            -191 -437 l-16 -96 -135 6 c-74 3 -166 13 -205 21 -38 9 -94 16 -124 16 -30 0
                            -68 4 -85 10 -17 5 -51 12 -76 15 -41 5 -48 10 -72 49 -31 51 -101 103 -167
                            123 -25 7 -109 16 -186 19 -77 3 -162 12 -189 20 -40 11 -51 11 -58 2 -6 -10
                            -130 -14 -558 -16 -520 -3 -554 -2 -588 15 -67 34 -137 77 -177 109 -22 18
                            -67 46 -99 63 -68 36 -140 41 -202 14 -59 -25 -168 -19 -216 13 -21 13 -84 40
                            -140 59 l-103 36 -285 9 c-157 5 -302 12 -323 16 -37 7 -39 8 -32 38 4 17 7
                            162 8 321 l2 290 -34 85 c-19 47 -49 103 -66 125 -52 67 -63 90 -80 160 -17
                            75 -20 230 -4 290 5 22 16 99 24 170 21 188 29 230 63 330 16 50 35 109 41
                            131 9 35 17 44 51 58 22 9 57 31 78 50 21 19 74 56 117 81 44 26 99 63 123 82
                            24 19 64 46 90 60 26 14 55 32 65 41 10 9 26 17 35 18 9 2 67 20 127 40 95 32
                            120 45 182 97 51 43 93 68 145 87 40 15 111 47 158 72 47 25 123 56 170 71 47
                            14 121 37 165 51 117 36 220 73 257 93 42 22 108 30 343 42 105 5 210 14 235
                            20 100 23 203 41 238 41 20 0 78 12 127 25 50 14 117 30 150 35 33 6 78 15
                            100 20 22 6 107 17 188 25 139 13 153 17 212 50 105 59 177 127 204 195 l23
                            59 -64 112 c-55 96 -70 115 -98 124 -58 20 -49 35 22 35 61 0 140 22 191 54
                            12 7 42 21 68 30 25 10 78 44 119 76 60 48 77 68 97 116 25 57 25 57 7 123
                            -16 61 -22 70 -77 115 -58 48 -137 86 -177 86 -11 0 -20 4 -20 8 0 11 130 40
                            205 46 33 3 96 17 140 31 74 23 95 25 290 26 116 0 219 4 230 9 28 12 73 11
                            210 -5z" />
                        </g>
                        <rect id="A" x="10%" y="30%" rx="0.2rem" ry="0.2rem" width="7rem" height="3rem"
                            transform="rotate(-15)" />
                        <text class="stand-font" x="22%" y="28%">A</text>
                        <rect id="B" x="-50%" y="30%" rx="0.2rem" ry="0.2rem" width="7rem" height="3rem"
                            transform="rotate(-80)" />
                        <text class="stand-font" x="17%" y="61%">B</text>
                        <rect id="C" x="-60%" y="108%" rx="0.2rem" ry="0.2rem" width="7rem" height="3rem"
                            transform="rotate(-78)" />
                        <text class="stand-font" x="73%" y="91%">C</text>
                        <rect id="D" x="-14%" y="105%" rx="0.2rem" ry="0.2rem" width="7rem" height="3rem"
                            transform="rotate(-80)" />
                        <text class="stand-font" x="82%" y="29%">D</text>
                    </svg>
                </div>
                <div class="col-12 col-md-6 col-lg-4">
                    <img id="individual_seats" src="https://res.cloudinary.com/grawnya/image/upload/v1674225408/stand_nmqkke.png" alt="...">
                </div>
                <div class="col-12 col-lg-4">
                    {{ ticket_form.stand | as_crispy_field }}
                    {{ ticket_form.seat_number | as_crispy_field }}
                </div>
            </div>
            <!-- ticket shape with details to post -->

            {{ ticket_form.show | as_crispy_field }}

            <div class="text-center">
                <button type="submit" class="btn btn-lg btn-f1">Submit</button>
            </div>

        </form>
    </div>
</div>

{% endblock %}